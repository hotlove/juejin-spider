Dubbo 是一款优秀的微服务框架，它以其高性能、简单易用、易扩展等特点，广泛应用于互联网、金融保险、科技公司、制造业、零售物流等多个领域。如今，Dubbo 框架已经成了后端程序员们必备的知识，也是面试必问的知识点之一。

要说 Dubbo 最常见的面试题，就是 Dubbo 的工作原理了，这也是我以前在面试时遇到过最多的一个问题了。我一般都会想象着官网的这张图，在纸上边画边说！


![工作原理.png](./image/d065274d785e4f928daeb2fffbb98f72.jpg)

第一步：服务提供者在启动的时候，将服务注册到注册中心。

第二步：服务消费者启动后，订阅注册中心的服务变更消息。

第三步：服务信息变更后，注册中心将服务信息通知给服务消费者，服务消费者在本地保存一份服务提供者列表。

第四步：消费者向服务者发起请求。

另外，Dubbo 还提供了监控模块，服务消费者和服务提供者会定时往监控中心发送监控信息，我们可以通过监控面板来查看服务监控信息，如调用次数、响应时间等。

这是对 Dubbo 框架的基本认识，如果面试官继续发问会怎么样呢？比如：服务怎么注册上去的？服务怎么发现的？服务的调用过程的具体细节是怎样的？Dubbo 协议的通讯是怎么实现的？等等。

甚至有时，遇到偏实战型的面试官还会问你项目中常见的问题，如 Dubbo 线程池满了怎么办？Dubbo 调用超时了怎么办？以此来考察你解决实际问题的能力。

这些问题背后的知识点，不仅是我们面试更高的技术岗位（如中间件开发）时需要掌握的，在实际工作中同样必不可少。我们知道，在互联网行业中，对系统的稳定性、吞吐量都有特别高的要求，特别是在双 11、618 等大促活动时，如果出现线上故障，不仅会影响商品销量、用户体验，更严重的是会影响公司的口碑，最终导致用户的流失。因此，快速分析和解决线上问题，就成为了高级技术人员的必备技能。

那么，想要回答好这些问题，快速分析和解决线上问题，征服面试官，获得岗位晋升，我们就必须要深入了解 Dubbo 的底层原理。


#  深入了解 Dubbo 底层原理

提到深入了解 Dubbo 底层原理，就不得不说说我和 Dubbo 从初识到深入理解的过程了。

我初次认识 Dubbo 是在前几年做基础中间件开发的时候，当时我主要是负责 Dubbo 的维护工作，工作内容集中在 Dubbo 的运维（如搭建服务注册中心、后台管理服务、监控后台）、基础知识的普及等。也是这个阶段，让我对 Dubbo 有了基本认识，偶尔会阅读源码，但是深入理解和二次开发的机会较少。

后来，在一次公司内部的技术分享会上，我以 Dubbo 为例为大家分享了 Netty 在开源框架中的应用。这次的分享，也让我对 Dubbo 的通讯部分(主要是服务的启动、服务的调用原理)源码学习有了深入了解，同时也为我后面深入理解和使用 Dubbo 奠定了基础。

这之后恰好有一个机会，是公司为了将支付成功的 TPS 提升到数千量级，即每秒能成功支付数千笔订单，成立了专门的支付性能提升项目团队，而我也成为了这个项目的负责人。

用户支付是个比较复杂的过程，涉及大大小小四十多个子系统，整个支付流程又涉及十几个支付相关的接口（入口接口）。所以支付成功的 TPS 要达到数千，总的 TPS 必须要达到数万（这里统计的是入口接口，基础服务接口的 TPS 大概数十万)。

**在完成项目目标的同时，也让我更全面、深入地了解了 Dubbo。同时，整个项目中间遇到最多的就是，线程池满、cpu 高、内存满、系统负载高等问题。那在分析和解决的过程中，也让我对 Dubbo 底层源码有了更深入和全面的研究。** 

回顾整个学习过程，我面对的挑战是逐渐增加的。应用阶段难度较小，先将官网 Demo 跑通，然后仿照着官网 Demo 直接应用到实战项目中。局部深入阶段有一定的挑战，这时候往往是因为遇到一些问题了，需要深入底层了解原理才能知道怎么解决，而此时一头扎进局部细节又不知道从哪里开始看，因为都不了解，所以需要一点一点的摸索着看，往往要花费非常多的时间和精力，也容易中途放弃。全面深入阶段有非常大的挑战，既要有高度抽象概括、又要吃透局部细节，不仅需要我们更多的耐心去学习和理解，还需要有抽象概括的能力，需要全局架构和局部细节结合着去学习。

于是，我将我自己学习和应用 Dubbo 的经验写到了小册中，希望能帮助到你。

#  本小册包含什么内容？

为了实现在深入理解 Dubbo 底层原理的基础上，快速分析和解决线上问题的目的，本小册经过精心的设计，内容涵盖了**理论和实战**两大部分。理论部分专注于深入理解 Dubbo 架构设计和实现原理，包含了架构设计、实现原理和核心组件；实战部分包括功能的扩展、线上场景问题的分析和解决等内容。

**架构设计**：这部分专注讲解 Dubbo 的架构内核、分层结构等整体抽象结构。

**实现原理**：详解 Dubbo 框架中服务注册、服务发现和服务调用的实现原理。

**核心组件**：通过解析 Dubbo 源码，详细分析 Dubbo 框架中的各个核心组件的实现原理。

**功能扩展**：了解完架构设计和核心组件的实现原理之后，我们就可以通过 Dubbo 框架的扩展点结构，根据自己的需求来扩展 Dubbo 的功能了。

**常见问题**：我收集了高并发场景下常见的线上问题，如线程池满、内存溢出、调用超时不准等问题，带大家解析问题的底层原理，在实际工作中高效应对它们。


![WechatIMG460.jpeg](./image/6844b35b3d50411dba037b91b547ee57.jpg)

# 写在最后

最后我想说的是，想深入一个框架的底层并不是一件特别容易的事情，需要付出很多时间和精力，阅读源码、构造各种场景下的 Demo、调试、理解总结等等。

好在，如果你想深入学习 Dubbo 框架，本小册已经将以上事情都做完了，只需要跟着本小册的思路，花一些时间慢慢理解，一定会如你所愿。

好了，既然已经读到了这里，那么你点击下一篇文章的动作，就是我们的握手礼了：“很高兴认识你，我是渔樵，让我们共同踏上 Dubbo 的深入学习之旅吧！”
 
 
Dubbo 是一款优秀的微服务框架，它以其高性能、简单易用、易扩展等特点，广泛应用于互联网、金融保险、科技公司、制造业、零售物流等多个领域。如今，Dubbo 框架已经成了后端程序员们必备的知识，也是面试必问的知识点之一。

要说 Dubbo 最常见的面试题，就是 Dubbo 的工作原理了，这也是我以前在面试时遇到过最多的一个问题了。我一般都会想象着官网的这张图，在纸上边画边说！


![工作原理.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/711883a780214dfaa00d11d4a4924999~tplv-k3u1fbpfcp-watermark.image?)

第一步：服务提供者在启动的时候，将服务注册到注册中心。

第二步：服务消费者启动后，订阅注册中心的服务变更消息。

第三步：服务信息变更后，注册中心将服务信息通知给服务消费者，服务消费者在本地保存一份服务提供者列表。

第四步：消费者向服务者发起请求。

另外，Dubbo 还提供了监控模块，服务消费者和服务提供者会定时往监控中心发送监控信息，我们可以通过监控面板来查看服务监控信息，如调用次数、响应时间等。

这是对 Dubbo 框架的基本认识，如果面试官继续发问会怎么样呢？比如：服务怎么注册上去的？服务怎么发现的？服务的调用过程的具体细节是怎样的？Dubbo 协议的通讯是怎么实现的？等等。

甚至有时，遇到偏实战型的面试官还会问你项目中常见的问题，如 Dubbo 线程池满了怎么办？Dubbo 调用超时了怎么办？以此来考察你解决实际问题的能力。

这些问题背后的知识点，不仅是我们面试更高的技术岗位（如中间件开发）时需要掌握的，在实际工作中同样必不可少。我们知道，在互联网行业中，对系统的稳定性、吞吐量都有特别高的要求，特别是在双 11、618 等大促活动时，如果出现线上故障，不仅会影响商品销量、用户体验，更严重的是会影响公司的口碑，最终导致用户的流失。因此，快速分析和解决线上问题，就成为了高级技术人员的必备技能。

那么，想要回答好这些问题，快速分析和解决线上问题，征服面试官，获得岗位晋升，我们就必须要深入了解 Dubbo 的底层原理。


#  深入了解 Dubbo 底层原理

提到深入了解 Dubbo 底层原理，就不得不说说我和 Dubbo 从初识到深入理解的过程了。

我初次认识 Dubbo 是在前几年做基础中间件开发的时候，当时我主要是负责 Dubbo 的维护工作，工作内容集中在 Dubbo 的运维（如搭建服务注册中心、后台管理服务、监控后台）、基础知识的普及等。也是这个阶段，让我对 Dubbo 有了基本认识，偶尔会阅读源码，但是深入理解和二次开发的机会较少。

后来，在一次公司内部的技术分享会上，我以 Dubbo 为例为大家分享了 Netty 在开源框架中的应用。这次的分享，也让我对 Dubbo 的通讯部分(主要是服务的启动、服务的调用原理)源码学习有了深入了解，同时也为我后面深入理解和使用 Dubbo 奠定了基础。

这之后恰好有一个机会，是公司为了将支付成功的 TPS 提升到数千量级，即每秒能成功支付数千笔订单，成立了专门的支付性能提升项目团队，而我也成为了这个项目的负责人。

用户支付是个比较复杂的过程，涉及大大小小四十多个子系统，整个支付流程又涉及十几个支付相关的接口（入口接口）。所以支付成功的 TPS 要达到数千，总的 TPS 必须要达到数万（这里统计的是入口接口，基础服务接口的 TPS 大概数十万)。

**在完成项目目标的同时，也让我更全面、深入地了解了 Dubbo。同时，整个项目中间遇到最多的就是，线程池满、cpu 高、内存满、系统负载高等问题。那在分析和解决的过程中，也让我对 Dubbo 底层源码有了更深入和全面的研究。** 

回顾整个学习过程，我面对的挑战是逐渐增加的。应用阶段难度较小，先将官网 Demo 跑通，然后仿照着官网 Demo 直接应用到实战项目中。局部深入阶段有一定的挑战，这时候往往是因为遇到一些问题了，需要深入底层了解原理才能知道怎么解决，而此时一头扎进局部细节又不知道从哪里开始看，因为都不了解，所以需要一点一点的摸索着看，往往要花费非常多的时间和精力，也容易中途放弃。全面深入阶段有非常大的挑战，既要有高度抽象概括、又要吃透局部细节，不仅需要我们更多的耐心去学习和理解，还需要有抽象概括的能力，需要全局架构和局部细节结合着去学习。

于是，我将我自己学习和应用 Dubbo 的经验写到了小册中，希望能帮助到你。

#  本小册包含什么内容？

为了实现在深入理解 Dubbo 底层原理的基础上，快速分析和解决线上问题的目的，本小册经过精心的设计，内容涵盖了**理论和实战**两大部分。理论部分专注于深入理解 Dubbo 架构设计和实现原理，包含了架构设计、实现原理和核心组件；实战部分包括功能的扩展、线上场景问题的分析和解决等内容。

**架构设计**：这部分专注讲解 Dubbo 的架构内核、分层结构等整体抽象结构。

**实现原理**：详解 Dubbo 框架中服务注册、服务发现和服务调用的实现原理。

**核心组件**：通过解析 Dubbo 源码，详细分析 Dubbo 框架中的各个核心组件的实现原理。

**功能扩展**：了解完架构设计和核心组件的实现原理之后，我们就可以通过 Dubbo 框架的扩展点结构，根据自己的需求来扩展 Dubbo 的功能了。

**常见问题**：我收集了高并发场景下常见的线上问题，如线程池满、内存溢出、调用超时不准等问题，带大家解析问题的底层原理，在实际工作中高效应对它们。


![WechatIMG460.jpeg](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a18c4415c374289a09d9cbef4cf4ca9~tplv-k3u1fbpfcp-watermark.image?)

# 写在最后

最后我想说的是，想深入一个框架的底层并不是一件特别容易的事情，需要付出很多时间和精力，阅读源码、构造各种场景下的 Demo、调试、理解总结等等。

好在，如果你想深入学习 Dubbo 框架，本小册已经将以上事情都做完了，只需要跟着本小册的思路，花一些时间慢慢理解，一定会如你所愿。

好了，既然已经读到了这里，那么你点击下一篇文章的动作，就是我们的握手礼了：“很高兴认识你，我是渔樵，让我们共同踏上 Dubbo 的深入学习之旅吧！”
 
 
